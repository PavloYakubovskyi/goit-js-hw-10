{"mappings":"YAOA,IAAMA,EAAO,CACXC,YAAaC,SAASC,eAAe,eACrCC,QAASF,SAASC,eAAe,YAGnCH,EAAKC,YAAYI,iBAAiB,UAWlC,SAAiBC,ICSQC,EDRZD,EAAEE,OAAOC,MCadC,EAAS,IAAIC,gBAAgB,CACjCC,UAAWL,IAGNM,MAAM,GAA2BC,OARnB,6CAQQ,aAAsBA,OANjD,wEAM8C,KAAUA,OAAPJ,IAAUK,MAAK,SAAAC,GAChE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,KDpBXL,MAAK,SAAAM,GAEJ,OADAC,QAAQC,IAAIF,GACJrB,EAAKI,QAAQoB,W,EAA4BH,ECuBrD,GACQI,EADPC,EACCC,OACE,GAAKC,EAAIH,EAAJG,KAAMC,EAAWJ,EAAXI,YAAaC,EAAWL,EAAXK,YAE1BC,EAAGL,EAAHK,IAIK,aAA0BjB,OAAbiB,EAAI,WAEJjB,OAFac,EAAK,gEAGbd,OADLc,EAAK,oCAGAd,OAFAgB,EAAY,4DAEAhB,OAAZe,EAAY,eAdvC,I,EAEUJ,EACCG,EAAMC,EAAaC,EAE1BC,C,IDzBCC,OAAM,SAAAC,G,OAAOX,QAAQY,MAAMD,E,ICEhC,IAAyB1B,EAKjBG,C,IApBCG,MAAM,GAAcC,OAhBV,gCAgBoBA,OAfnB,WAQF,CACdqB,QAAS,CACP,YACE,2EAI2CpB,MAAK,SAAAC,GACpD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,IDRFL,MAAK,SAAAM,GAGjBrB,EAAKC,YAAYmC,mBACf,YACwBf,ECSvBgB,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIX,EAAIU,EAAJV,K,MAAW,oBAA6Bd,OAATyB,EAAG,QAAWzB,OAALc,EAAK,a,IACxDY,KAAK,I","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n} from './cat-api';\n\nconst refs = {\n  breedSelect: document.getElementById('breedSelect'),\n  catInfo: document.getElementById('catInfo'),\n};\n\nrefs.breedSelect.addEventListener('change', onCatId);\n\nfetchBreeds().then(data => {\n  //   console.log(data[0]);\n  //   console.log(createBreedSelectMarkup(data));\n  refs.breedSelect.insertAdjacentHTML(\n    'beforeend',\n    createBreedSelectMarkup(data)\n  );\n});\n\nfunction onCatId(e) {\n  const id = e.target.value;\n  fetchCatByBreed(id)\n    .then(data => {\n      console.log(data);\n      return (refs.catInfo.innerHTML = createCatMarkup(data));\n    })\n    .catch(err => console.error(err));\n}\n","function fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const END_POINT = '/breeds';\n  //   const API_KEY =\n  //     'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  //   const params = new URLSearchParams({\n  //     api_key: API_KEY,\n  //   });\n\n  const options = {\n    Headers: {\n      'x-api-key':\n        'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa',\n    },\n  };\n\n  return fetch(`${BASE_URL}${END_POINT}`, options).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createBreedSelectMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value = \"${id}\" > ${name} </option>`)\n    .join('');\n}\n\nfunction fetchCatByBreed(breedId) {\n  const FORECAST_URL = 'https://api.thecatapi.com/v1/images/search';\n  const API_KEY =\n    'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  const params = new URLSearchParams({\n    breed_ids: breedId,\n  });\n\n  return fetch(`${FORECAST_URL}?api_key=${API_KEY}&${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createCatMarkup({\n  0: {\n    breeds: {\n      0: { name, temperament, description },\n    },\n    url,\n  },\n}) {\n  // console.log(arr);\n  return `<img src=\"${url}\" alt=\"${name}\" width=\"800\" height=\"500\" />\n  <div>\n  <h1 class=\"title\">${name}</h1>\n  <p class=\"description\">${description}</p>\n  <h2>Temperament:</h2>\n  <p class=\"description\">${temperament}</p></div>`;\n}\n\nexport {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n};\n"],"names":["$b8f9b7833fa37166$var$refs","breedSelect","document","getElementById","catInfo","addEventListener","e","breedId","target","value","params","URLSearchParams","breed_ids","fetch","concat","then","resp","ok","Error","statusText","json","data","console","log","innerHTML","ref1","ref","breeds","name","temperament","description","url","catch","err","error","Headers","insertAdjacentHTML","map","param","id","join"],"version":3,"file":"index.92c37eeb.js.map"}