{"mappings":"AAgCA,SAASA,EAAgBC,GACvB,MAIMC,EAAS,IAAIC,gBAAgB,CACjCC,UAAWH,IAGb,OAAOI,MAAM,4HAAsCH,KAAUI,MAAKC,IAChE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,MAAM,G,CAItB,SAASC,GACP,GACEC,QACE,GAAGC,KAAEA,EAAIC,YAAEA,EAAWC,YAAEA,IACzBC,IACDA,KAIF,MAAO,aAAaA,WAAaH,gEAEbA,oCACKE,4DAEAD,a,CCzD3B,MAAMG,EAAO,CACXC,YAAaC,SAASC,eAAe,eACrCC,QAASF,SAASC,eAAe,YAGnCH,EAAKC,YAAYI,iBAAiB,UAWlC,SAAiBC,GAEfxB,EADWwB,EAAEC,OAAOC,OAEjBpB,MAAKqB,IACJC,QAAQC,IAAIF,GACJT,EAAKI,QAAQQ,UAAYlB,EAAgBe,MAElDI,OAAMC,GAAOJ,QAAQK,MAAMD,I,IDbvB3B,MAAM,sCAPG,CACd6B,QAAS,CACP,YACE,2EAI2C5B,MAAKC,IACpD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,MAAM,ICRRL,MAAKqB,IAGjBT,EAAKC,YAAYgB,mBACf,YACwBR,EDSvBS,KAAI,EAACC,GAAEA,EAAEvB,KAAEA,KAAW,oBAAoBuB,QAASvB,gBACnDwB,KAAK,ICTP","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["function fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const END_POINT = '/breeds';\n  //   const API_KEY =\n  //     'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  //   const params = new URLSearchParams({\n  //     api_key: API_KEY,\n  //   });\n\n  const options = {\n    Headers: {\n      'x-api-key':\n        'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa',\n    },\n  };\n\n  return fetch(`${BASE_URL}${END_POINT}`, options).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createBreedSelectMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value = \"${id}\" > ${name} </option>`)\n    .join('');\n}\n\nfunction fetchCatByBreed(breedId) {\n  const FORECAST_URL = 'https://api.thecatapi.com/v1/images/search';\n  const API_KEY =\n    'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  const params = new URLSearchParams({\n    breed_ids: breedId,\n  });\n\n  return fetch(`${FORECAST_URL}?api_key=${API_KEY}&${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createCatMarkup({\n  0: {\n    breeds: {\n      0: { name, temperament, description },\n    },\n    url,\n  },\n}) {\n  // console.log(arr);\n  return `<img src=\"${url}\" alt=\"${name}\" width=\"800\" height=\"500\" />\n  <div>\n  <h1 class=\"title\">${name}</h1>\n  <p class=\"description\">${description}</p>\n  <h2>Temperament:</h2>\n  <p class=\"description\">${temperament}</p></div>`;\n}\n\nexport {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n};\n","import {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n} from './cat-api';\n\nconst refs = {\n  breedSelect: document.getElementById('breedSelect'),\n  catInfo: document.getElementById('catInfo'),\n};\n\nrefs.breedSelect.addEventListener('change', onCatId);\n\nfetchBreeds().then(data => {\n  //   console.log(data[0]);\n  //   console.log(createBreedSelectMarkup(data));\n  refs.breedSelect.insertAdjacentHTML(\n    'beforeend',\n    createBreedSelectMarkup(data)\n  );\n});\n\nfunction onCatId(e) {\n  const id = e.target.value;\n  fetchCatByBreed(id)\n    .then(data => {\n      console.log(data);\n      return (refs.catInfo.innerHTML = createCatMarkup(data));\n    })\n    .catch(err => console.error(err));\n}\n"],"names":["$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","params","URLSearchParams","breed_ids","fetch","then","resp","ok","Error","statusText","json","$6b5f202d1456c0af$export$4c53b31632605d0b","breeds","name","temperament","description","url","$1f0dc3b9307be026$var$refs","breedSelect","document","getElementById","catInfo","addEventListener","e","target","value","data","console","log","innerHTML","catch","err","error","Headers","insertAdjacentHTML","map","id","join"],"version":3,"file":"index.631bdacf.js.map"}