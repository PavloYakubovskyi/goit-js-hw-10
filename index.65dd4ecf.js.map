{"mappings":"YAOA,IAAMA,EAAO,CACXC,YAAaC,SAASC,eAAe,eACrCC,QAASF,SAASC,eAAe,YAGnCH,EAAKC,YAAYI,iBAAiB,UAWlC,SAAiBC,ICSQC,EDRZD,EAAEE,OAAOC,MCadC,EAAS,IAAIC,gBAAgB,CACjCC,UAAWL,IAGNM,MAAM,GAA2BC,OARnB,6CAQQ,aAAsBA,OANjD,wEAM8C,KAAUA,OAAPJ,IAAUK,MAAK,SAAAC,GAChE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,KDpBXL,MAAK,SAAAM,GACJ,OAAQrB,EAAKI,QAAQkB,WCuBFC,EDvB8BF,ECwBrDG,QAAQC,IAAIF,GAELA,EACJG,KACC,SAAAC,G,IACEC,EAAGD,EAAHC,IACMC,EADHF,EACHG,OACE,GAAKC,EAAIF,EAAJE,KAAMC,EAAWH,EAAXG,YAAaC,EAAWJ,EAAXI,Y,MAEtB,aAA0BnB,OAAbc,EAAI,WAEPd,OAFgBiB,EAAK,gEAGhBjB,OADLiB,EAAK,oCAGAjB,OAFAmB,EAAY,4DAEAnB,OAAZkB,EAAY,a,IAElCE,KAAK,KAjBV,IAAyBX,C,IDrBpBY,OAAM,SAAAC,G,OAAOZ,QAAQa,MAAMD,E,ICGhC,IAAyB7B,EAKjBG,C,IApBCG,MAAM,GAAcC,OAhBV,gCAgBoBA,OAfnB,WAQF,CACdwB,QAAS,CACP,YACE,2EAI2CvB,MAAK,SAAAC,GACpD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAGvB,OAAOH,EAAKI,M,IDRFL,MAAK,SAAAM,GAGjBrB,EAAKC,YAAYsC,mBACf,YACwBlB,ECSvBK,KAAI,SAAAC,G,IAAGa,EAAEb,EAAFa,GAAIT,EAAIJ,EAAJI,K,MAAW,oBAA6BjB,OAAT0B,EAAG,QAAW1B,OAALiB,EAAK,a,IACxDG,KAAK,I","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n} from './cat-api';\n\nconst refs = {\n  breedSelect: document.getElementById('breedSelect'),\n  catInfo: document.getElementById('catInfo'),\n};\n\nrefs.breedSelect.addEventListener('change', onCatId);\n\nfetchBreeds().then(data => {\n  //   console.log(data[0]);\n  //   console.log(createBreedSelectMarkup(data));\n  refs.breedSelect.insertAdjacentHTML(\n    'beforeend',\n    createBreedSelectMarkup(data)\n  );\n});\n\nfunction onCatId(e) {\n  const id = e.target.value;\n  fetchCatByBreed(id)\n    .then(data => {\n      return (refs.catInfo.innerHTML = createCatMarkup(data));\n    })\n    .catch(err => console.error(err));\n}\n","function fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const END_POINT = '/breeds';\n  //   const API_KEY =\n  //     'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  //   const params = new URLSearchParams({\n  //     api_key: API_KEY,\n  //   });\n\n  const options = {\n    Headers: {\n      'x-api-key':\n        'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa',\n    },\n  };\n\n  return fetch(`${BASE_URL}${END_POINT}`, options).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createBreedSelectMarkup(arr) {\n  return arr\n    .map(({ id, name }) => `<option value = \"${id}\" > ${name} </option>`)\n    .join('');\n}\n\nfunction fetchCatByBreed(breedId) {\n  const FORECAST_URL = 'https://api.thecatapi.com/v1/images/search';\n  const API_KEY =\n    'live_n9RYsu6xXJu2x7fSIMilBDonMvDcz944KTSvauIhyOHhdhcDyRpeUJa4t2le08Oa';\n\n  const params = new URLSearchParams({\n    breed_ids: breedId,\n  });\n\n  return fetch(`${FORECAST_URL}?api_key=${API_KEY}&${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n\n    return resp.json();\n  });\n}\n\nfunction createCatMarkup(arr) {\n  console.log(arr);\n\n  return arr\n    .map(\n      ({\n        url,\n        breeds: {\n          0: { name, temperament, description },\n        },\n      }) => `<img src=\"${url}\" alt=\"${name}\" width=\"800\" height=\"500\" />\n  <div>\n  <h1 class=\"title\">${name}</h1>\n  <p class=\"description\">${description}</p>\n  <h2>Temperament:</h2>\n  <p class=\"description\">${temperament}</p></div>`\n    )\n    .join('');\n}\n\nexport {\n  fetchBreeds,\n  fetchCatByBreed,\n  createBreedSelectMarkup,\n  createCatMarkup,\n};\n"],"names":["$b8f9b7833fa37166$var$refs","breedSelect","document","getElementById","catInfo","addEventListener","e","breedId","target","value","params","URLSearchParams","breed_ids","fetch","concat","then","resp","ok","Error","statusText","json","data","innerHTML","arr","console","log","map","param","url","ref","breeds","name","temperament","description","join","catch","err","error","Headers","insertAdjacentHTML","id"],"version":3,"file":"index.65dd4ecf.js.map"}